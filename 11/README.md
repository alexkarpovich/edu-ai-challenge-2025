# Speech-to-Text Application with AI Analysis

A powerful console application that transcribes audio files using OpenAI's Whisper API, generates summaries with GPT, and extracts custom analytics including word count, speaking speed, and frequently mentioned topics.

## Features

- 🎵 **Audio Transcription**: High-accuracy speech-to-text using OpenAI Whisper API
- 📝 **AI Summarization**: Intelligent summaries generated by GPT-4
- 📊 **Smart Analytics**: Word count, speaking speed (WPM), and topic extraction
- 💾 **File Management**: Automatic saving of transcriptions, summaries, and analytics
- 🌍 **Multi-format Support**: Works with mp3, mp4, mpeg, mpga, m4a, wav, webm files
- ⚡ **Fast Processing**: Optimized pipeline for quick results

## Prerequisites

- Python 3.7 or higher
- OpenAI API key ([Get one here](https://platform.openai.com/api-keys))
- Internet connection for API calls

## Installation

1. **Clone or download this repository**
   ```bash
   cd 11  # Navigate to the project folder
   ```

2. **Create a virtual environment (recommended)**
   ```bash
   python -m venv venv
   
   # On Windows:
   venv\Scripts\activate
   
   # On macOS/Linux:
   source venv/bin/activate
   ```

3. **Install required dependencies**
   ```bash
   pip install -r requirements.txt
   ```

4. **Set up your OpenAI API key**
   ```bash
   # Copy the example environment file
   cp .env.example .env
   
   # Edit the .env file and add your API key
   # Replace 'your_openai_api_key_here' with your actual API key
   ```

   Your `.env` file should look like:
   ```
   OPENAI_API_KEY=sk-proj-your-actual-api-key-here
   ```

## Usage

### Basic Usage

```bash
python main.py path/to/your/audio/file.wav
```

### Examples

```bash
# Process the included sample audio file
python main.py CAR0004.mp3

# Process a WAV file
python main.py recording.wav

# Process an MP3 file with full path
python main.py /Users/username/Downloads/interview.mp3

# Process an M4A file
python main.py podcast_episode.m4a
```

### Supported Audio Formats

- MP3 (`.mp3`)
- MP4 Audio (`.mp4`)
- MPEG (`.mpeg`)
- MPGA (`.mpga`)
- M4A (`.m4a`)
- WAV (`.wav`)
- WebM (`.webm`)

## Output

The application generates the following outputs:

### Console Output
- 📋 **Summary**: Concise summary of the transcript
- 📊 **Analytics**: Word count, speaking speed, and top topics
- 💾 **File locations**: Paths to all generated files

### Generated Files
All files are saved in the `transcriptions/` directory with timestamps:

1. **Transcription file** (`transcription_filename_YYYYMMDD_HHMMSS.md`)
   - Complete transcript of the audio
   - Formatted as Markdown

2. **Summary file** (`summary_filename_YYYYMMDD_HHMMSS.md`)
   - AI-generated summary
   - Key points and takeaways

3. **Analytics file** (`analysis_filename_YYYYMMDD_HHMMSS.json`)
   - Word count
   - Speaking speed in words per minute
   - Top frequently mentioned topics with mention counts

### Sample Analytics Output

```json
{
  "word_count": 1280,
  "speaking_speed_wpm": 132,
  "frequently_mentioned_topics": [
    {"topic": "Customer Onboarding", "mentions": 6},
    {"topic": "Q4 Roadmap", "mentions": 4},
    {"topic": "AI Integration", "mentions": 3}
  ]
}
```

## How It Works

1. **Transcription**: Audio file is sent to OpenAI's Whisper API for speech-to-text conversion
2. **Summarization**: The transcript is processed by GPT-4 to generate a concise summary
3. **Analytics**: AI analyzes the transcript to extract:
   - Word count (direct calculation)
   - Estimated speaking duration and speed
   - Key topics and their frequency
4. **File Saving**: All outputs are saved with timestamps for easy tracking

## Troubleshooting

### Common Issues

**"OPENAI_API_KEY not found"**
- Make sure you've created a `.env` file
- Ensure your API key is correctly set in the `.env` file
- Check that there are no extra spaces or quotes around the API key

**"Audio file not found"**
- Verify the file path is correct
- Ensure the audio file exists
- Check that the file format is supported

**"Error during transcription"**
- Check your internet connection
- Verify your OpenAI API key has sufficient credits
- Ensure the audio file isn't corrupted

**"Rate limit exceeded"**
- You've made too many API requests
- Wait a moment and try again
- Consider upgrading your OpenAI plan for higher rate limits

### Getting Help

If you encounter issues:
1. Check that all requirements are installed correctly
2. Verify your OpenAI API key is valid and has credits
3. Ensure your audio file is in a supported format
4. Check the console output for specific error messages

## API Costs

This application uses OpenAI APIs which have usage costs:
- **Whisper API**: ~$0.006 per minute of audio
- **GPT-4 API**: Variable based on text length (typically $0.01-0.10 per analysis)

Monitor your usage at [OpenAI Usage Dashboard](https://platform.openai.com/usage).

## File Structure

```
11/
├── main.py              # Main application
├── requirements.txt     # Python dependencies
├── .env.example        # Environment file template
├── .env               # Your API configuration (do not commit)
├── README.md          # This file
├── transcriptions/    # Generated output files
│   ├── transcription_*.md
│   ├── summary_*.md
│   └── analysis_*.json
└── .gitignore         # Git ignore rules
```

## Security Notes

- ✅ Your `.env` file is automatically ignored by git
- ✅ Never commit your API key to version control
- ✅ Keep your API key secure and don't share it
- ✅ Regularly monitor your OpenAI usage and costs

## License

This project is for educational purposes as part of the AI Challenge 2025. 